---
title: 设计模式之禅
date: 2019-04-16 11:30:00
tags: 读书笔记
---

金句：
- 软件设计最大的难题就是应对需求的变化，但是纷繁复杂的需求变化又是不可预料的。我们要为不可预料的事情做好准备，这本身就是一件非常痛苦的事情
- 

## << 设计模式之禅 >> 这本书 的读书笔记

# 第一章

## 单一职责原则
  应该有且仅有一个原因引起类的变更
  - 实现细节：
    1. 如果一个接口包含了两个职责，而且这两个职责的变化不相互影响，那就考虑拆分成两个接口
  - 优点：
    1. 类的复杂性降低，实现什么职责都有清晰明确的定义；
    2. 可读性提高，复杂性降低，那当然可读性提高了；
    3. 可维护性提高，可读性提高，那当然更容易维护了；
    4. 变更引起的风险降低
   
## 里氏替换原则
  所有引用基类的地方必须能透明地使用其子类的对象，即子类可以替换基类
## 依赖倒置原则
  抽象不应依赖细节，减少类之间的相互依赖
  - 实现细节：
    1. 每个类尽量都要有 `接口` 和 `抽象类`，或抽象类和接口两者都具备
    2. 变量的表面类型 尽量是 接口或抽象类
  - 优点：
    1. 通过使用依赖倒置原则设计的接口或抽象类对实现类进行约束，可以减少需求变化引起的工作量剧增的情况
    2. 使人员变动对 项目扩展和维护 的影响 降到最低 
## 接口隔离原则
  客户端不应依赖它不需要的接口  
  类之间的依赖关系应建立在最小的接口上  
  - 实现细节
    1. 拆分需要区分的功能 为多个接口，按需组合（实现）
    2. 考虑接口隔离原则时，首先需要满足单一职责原则
  - 优点
  - 缺点
    1. 接口的设计粒度越细，系统越灵活，可扩展性越高，但同时会导致结构的复杂化，开发难度增加，可维护性降低，所以接口设计要适度
  `尽量使用多个专门的接口`
## 迪米特法则 （最少知识原则）
  一个实体应当尽量少地与其他实体之间发生相互作用，使得系统功能模块相对独立，即在控制系统中 常说的模块间 `高内聚，低耦合` 原则  
  - 实现细节
    1. 尽量减少一个类公开的 public 方法，将实现细节内聚在类中
## 开放封闭原则  ————  终极原则
  一个软件实体如 类，模块，函数应该 对扩展开放，对修改关闭
  - 实现细节
    以上的五种设计模式都是这一条的具体实现规则

# 23个设计模式
## 1. 单例模式
  一个类只会产生一个实例，或固定个数个实例（扩展后）
## 2. 工厂方法模式
  定义一个用于创建对象的接口，让子类决定实例化哪一个类。工厂方法使一个类的实例化延迟到其子类
## 3. 抽象工厂模式
## 4. 模板方法模式


## Other Tips
1. 相较于 interface 是 class 的接口（类接口），其实 class 也算是一种 Object 的接口，称之为 实例接口
2. 